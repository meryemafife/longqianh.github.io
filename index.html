<!DOCTYPE html>


<html lang="en">


<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8" />
    
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
     Peter&#39;s Blog
  </title>
  <meta name="generator" content="hexo-theme-ayer">
  
  <link rel="shortcut icon" href="/ironman.ico" />
  
  
<link rel="stylesheet" href="/dist/main.css">

  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/css/remixicon.min.css">

  
<link rel="stylesheet" href="/css/custom.css">

  
  
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

  
  

  

</head>

</html>

<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="app">
    <main class="content on">
      
<section class="cover">
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/IDR_THEME_NTP_BACKGROUND.png" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">Peter&#39;s Blog</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script>

<div id="main">
  <section class="outer">
  <article class="articles">
    
    
    
    
    <article id="post-Life/一些心得" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/23/Life/%E4%B8%80%E4%BA%9B%E5%BF%83%E5%BE%97/"
    >一些心得</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/05/23/Life/%E4%B8%80%E4%BA%9B%E5%BF%83%E5%BE%97/" class="article-date">
  <time datetime="2020-05-23T15:53:24.000Z" itemprop="datePublished">2020-05-23</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h1 id="心得们">心得们</h1>
<h2 id="pre">Pre</h2>
<ul>
<li>做 Keynote, 列一个大纲, 把要讲的东西列出来, 顺序是什么.</li>
</ul>
<h2 id="做实验">做实验</h2>
<ul>
<li>去实验室之前列好自己要做的事情, 尽快做完不逗留.</li>
</ul>
<h2 id="一些现象的解释">一些现象的解释</h2>
<ul>
<li>钻石的闪亮光泽和缤纷火彩，来自于其异常高的折射率和色散程度</li>
</ul>
<h2 id="决心">决心</h2>
<ul>
<li>大学本科不tla，努力学习，努力科研，努力健身，努力提升自己</li>
</ul>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      

    </footer>

  </div>

  

  

  
  
  

</article>
    
    <article id="post-Computer-Sciences/Machine Learning/TensorFlow-Notes" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/05/Computer-Sciences/Machine%20Learning/TensorFlow-Notes/"
    >TensorFlow Notes</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/05/05/Computer-Sciences/Machine%20Learning/TensorFlow-Notes/" class="article-date">
  <time datetime="2020-05-05T13:18:07.000Z" itemprop="datePublished">2020-05-05</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Computer-Science/">Computer Science</a> / <a class="article-category-link" href="/categories/Computer-Science/Machine-Learning/">Machine Learning</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <p>This is my notes for TensorFlow.</p>
<p>推荐网站：</p>
<ul>
<li><a href="tf.wiki">简单粗暴 TensorFlow 2</a></li>
<li><a href="https://keras.io/zh/" target="_blank" rel="noopener">Keras 中文文档</a></li>
</ul>
<h1 id="tensorflow-学习笔记">TensorFlow 学习笔记</h1>
<h2 id="数学基础部分">1. 数学基础部分</h2>
<h3 id="损失函数交叉熵">损失函数：交叉熵</h3>
<p><a href="https://blog.csdn.net/tsyccnh/article/details/79163834" target="_blank" rel="noopener">参考文章：深入理解交叉熵</a></p>
<ol type="1">
<li><p>来源 ：信息论</p></li>
<li><p>信息量:</p></li>
</ol>
<p><span class="math display">\[
I(x)=-\ln \left[p(x)\right]
\]</span></p>
<p>衡量事件 <span class="math inline">\(X=x\)</span> 包含信息的多少，发生概率越小，信息量越大。</p>
<ol start="3" type="1">
<li>信息熵：</li>
</ol>
<p><span class="math display">\[
H(X)=E\left[I(X)\right]=-\sum_{i=1}^n p(x_i)\ln\left[p(x_i)\right]
\]</span></p>
<p>事件包含的信息量的期望。</p>
<ol start="4" type="1">
<li>相对熵：KL divergence <span class="math display">\[
D_{KL}(A\| B)=-\sum_{i=1}^n p_A(x_i)\ln\left[\frac{p_A(x_i)}{p_B(x_i)}\right]
\]</span></li>
</ol>
<p><span class="math inline">\(A\)</span> 与 <span class="math inline">\(B\)</span> 之间的对数差（即是信息量的差）在 <span class="math inline">\(A\)</span> 上的期望值。</p>
<p>理解：相对熵在数学上为 <span class="math inline">\(A\)</span> 和<span class="math inline">\(B\)</span> 对数差的期望，进一步可以看成是 <strong><span class="math inline">\(B\)</span> 对<span class="math inline">\(A\)</span> 的信息量的差的期望</strong>。非常符合直觉。</p>
<ol start="5" type="1">
<li>交叉熵 <span class="math display">\[
\begin{align}
D_{KL}(A\|B)&amp;=-\sum_{i=1}^n p_A(x_i)\ln\left[p_A(x_i)\right]+\sum_{i=1}^n p_A(x_i)\ln\left[ p_B(x_i)\right]\\
&amp;=H(A)+H(A,B)
\end{align}
\]</span></li>
</ol>
<p>后一项 <span class="math inline">\(H(A,B)\)</span> 就是交叉熵： <span class="math display">\[
H(A,B)=\sum_{i=1}^np_A(x_i)\ln\left[p_B(x_i)\right]
\]</span></p>
<ol start="6" type="1">
<li>应用</li>
</ol>
<p>机器学习中，<span class="math inline">\(A\)</span> 为真实分布，<span class="math inline">\(B\)</span> 为预测分布。由于 <span class="math inline">\(A\)</span> 的信息量是不变的，相对熵中可以只关注交叉熵。交叉熵作为损失函数很好地衡量信息量的差。</p>
<p>线性回归问题中均方误差 <span class="math inline">\(MSE\)</span> 比较好用，在<strong>逻辑分类问题</strong>中交叉熵更加符合直觉。</p>
<h2 id="算法基础部分">2. 算法基础部分</h2>
<h3 id="adam">Adam</h3>
<p>待办：研究论文的数学部分</p>
<p><a href="https://blog.csdn.net/willduan1/article/details/78070086" target="_blank" rel="noopener">参考网站</a></p>
<p>理解：更好地更新权重参数</p>
<p>应用：Well suited for problems that are large in terms of data and/or parameters. The method is also appropriate for non-stationary objectives and problems with very noisy and/or sparse gradients.</p>
<h3 id="cross-validation">Cross Validation</h3>
<p>交叉验证。将数据集打乱分成 <span class="math inline">\(k\)</span> 份不相交的集合，循环训练 <span class="math inline">\(k\)</span> 次，第 <span class="math inline">\(i\)</span> 次用除了第 <span class="math inline">\(i\)</span> 集合的部分训练，用第 <span class="math inline">\(i\)</span> 集合计算损失函数，最后的损失函数为所有损失的平均。</p>
<p>待办：这种做法的合理性和优越性</p>
<p>K-fold cross-validation procedure</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment"># 算法伪代码</span><br>Define KFoldXV(D,A,L,k):<br><span class="hljs-symbol">Require:</span> D the given dataset<br><span class="hljs-symbol">Require:</span> A the learning algorithm, seen as a function that takes a dataset as input <span class="hljs-keyword">and</span> outputs a learned function<br><span class="hljs-symbol">Require:</span> L the loss function, map the chosen test example to a scalar<br><span class="hljs-symbol">Require:</span> k the number of folds<br>	<br>	Split D into k mutually exclusive subsets D_i, whose union is D<br>	<span class="hljs-keyword">for</span> i from <span class="hljs-number">1</span> to k <span class="hljs-keyword">do</span><br>    f_i = A(D\D_i) <span class="hljs-comment"># 用第i个集合之外的训练</span><br>    <span class="hljs-keyword">for</span> z_j <span class="hljs-keyword">in</span> D_i <span class="hljs-keyword">do</span><br>      e_j = L(f_i,z_j) <span class="hljs-comment"># 用第i个集合计算损失</span><br>    <span class="hljs-keyword">end</span> <span class="hljs-keyword">for</span><br>  <span class="hljs-keyword">end</span> <span class="hljs-keyword">for</span><br>	Return e<br></code></pre></td></tr></table></figure>
<h3 id="lstm">LSTM</h3>
<p><a href="https://zhuanlan.zhihu.com/p/32085405" target="_blank" rel="noopener">参考</a></p>
<p>长短期记忆（Long short-term memory, LSTM）是一种特殊的RNN，主要是为了解决长序列训练过程中的梯度消失和梯度爆炸问题。</p>
<p>待办：关于激活函数 <span class="math inline">\(\tanh\)</span></p>
<h2 id="代码基础部分">3. 代码基础部分</h2>
<p>慢慢填。</p>
<h3 id="变量与常量">变量与常量</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">x = tf.constant([[<span class="hljs-number">1.0</span>]])<br></code></pre></td></tr></table></figure>
<p>注意需转化为张量（or：矩阵），外面多套一层括号。</p>
<h3 id="tf中的函数">TF中的函数</h3>
<h4 id="tf.one_hot">tf.one_hot</h4>
<p><code>tf.one_hot</code> 将输入数组转化为”one-hot“型的输出。和单分类问题有这非常密切的联系（待挖掘）。</p>
<p>比如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python">-- 输入 --<br>x=[<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">-1</span>,<span class="hljs-number">2</span>] <span class="hljs-comment"># 根据输出 -1 表示不属于任何一类</span><br>print(tf.one_hot(x,depth=<span class="hljs-number">6</span>)) <span class="hljs-comment"># depth 应该是总分类数</span><br><br>-- 输出 --<br>tf.Tensor(<br>[[<span class="hljs-number">1.</span> <span class="hljs-number">0.</span> <span class="hljs-number">0.</span> <span class="hljs-number">0.</span> <span class="hljs-number">0.</span> <span class="hljs-number">0.</span>]<br> [<span class="hljs-number">0.</span> <span class="hljs-number">1.</span> <span class="hljs-number">0.</span> <span class="hljs-number">0.</span> <span class="hljs-number">0.</span> <span class="hljs-number">0.</span>]<br> [<span class="hljs-number">0.</span> <span class="hljs-number">0.</span> <span class="hljs-number">0.</span> <span class="hljs-number">0.</span> <span class="hljs-number">0.</span> <span class="hljs-number">0.</span>]<br> [<span class="hljs-number">0.</span> <span class="hljs-number">0.</span> <span class="hljs-number">1.</span> <span class="hljs-number">0.</span> <span class="hljs-number">0.</span> <span class="hljs-number">0.</span>]], shape=(<span class="hljs-number">4</span>, <span class="hljs-number">6</span>), dtype=float32)<br></code></pre></td></tr></table></figure>
<h4 id="tf.image">tf.image</h4>
<p>用于图像处理，可以用这个扩充数据集。</p>
<p><a href="%5Bhttps://medium.com/@lufor129/tensorflow-%E5%9C%96%E7%89%87%E6%95%B8%E6%93%9A%E5%A2%9E%E5%BC%B7-%E4%BA%8C-%E5%9C%96%E7%89%87%E8%99%95%E7%90%86%E5%87%BD%E6%95%B8-1083fb176f9%5D(https://medium.com/@lufor129/tensorflow-圖片數據增強-二-圖片處理函數-1083fb176f9)">推荐/待继续研究</a></p>
<h4 id="tfds.load">tfds.load</h4>
<p>载入数据。<code>split</code> <a href="https://www.tensorflow.org/datasets/splits" target="_blank" rel="noopener">有很多玩法</a>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> tensorflow_datasets <span class="hljs-keyword">as</span> tfds<br>mnist_dataset, mnist_info = tfda.load(<span class="hljs-string">'mnist'</span>,split=<span class="hljs-string">'train'</span>,\<br>               with_info=<span class="hljs-literal">True</span>,batch_size=<span class="hljs-literal">None</span>,\<br>               shuffle_files=<span class="hljs-literal">True</span>, as_supvised=<span class="hljs-literal">True</span>)<br><br><span class="hljs-comment"># 重要参数</span><br><span class="hljs-comment"># split :  Which split of the data to load (e.g. 'train', 'test' ['train', 'test'], 'train[80%:]')</span><br><br><span class="hljs-comment"># shuffle_files </span><br><br><span class="hljs-comment"># as_supvised : bool, if True, the returned tf.data.Dataset will have a 2-tuple structure (input, label)</span><br><span class="hljs-comment"># batch_size : add a batch dimension to examples</span><br><br>mnist_train = mnist_dataset[<span class="hljs-string">'train'</span>]<br><span class="hljs-comment"># 返回迭代器(generator ) mnist_train</span><br><br>print(mnist_info)<br><span class="hljs-comment"># 数据集信息</span><br><br>-- result --<br><br>tfds.core.DatasetInfo(<br>    name=<span class="hljs-string">'mnist'</span>,<br>    version=<span class="hljs-number">3.0</span><span class="hljs-number">.1</span>,<br>    description=<span class="hljs-string">'The MNIST database of handwritten digits.'</span>,<br>    homepage=<span class="hljs-string">'http://yann.lecun.com/exdb/mnist/'</span>,<br>    features=FeaturesDict(&#123;<br>        <span class="hljs-string">'image'</span>: Image(shape=(<span class="hljs-number">28</span>, <span class="hljs-number">28</span>, <span class="hljs-number">1</span>), dtype=tf.uint8),<br>        <span class="hljs-string">'label'</span>: ClassLabel(shape=(), dtype=tf.int64, num_classes=<span class="hljs-number">10</span>),<br>    &#125;),<br>    total_num_examples=<span class="hljs-number">70000</span>,<br>    splits=&#123;<br>        <span class="hljs-string">'test'</span>: <span class="hljs-number">10000</span>,<br>        <span class="hljs-string">'train'</span>: <span class="hljs-number">60000</span>,<br>    &#125;,<br>    supervised_keys=(<span class="hljs-string">'image'</span>, <span class="hljs-string">'label'</span>),<br>    citation=<span class="hljs-string">"""@article&#123;lecun2010mnist,<br>      title=&#123;MNIST handwritten digit database&#125;,<br>      author=&#123;LeCun, Yann and Cortes, Corinna and Burges, CJ&#125;,<br>      journal=&#123;ATT Labs [Online]. Available: http://yann. lecun. com/exdb/mnist&#125;,<br>      volume=&#123;2&#125;,<br>      year=&#123;2010&#125;<br>    &#125;"""</span>,<br>    redistribution_info=,<br>)<br></code></pre></td></tr></table></figure>
<h4 id="tf.constant_initializer">tf.constant_initializer</h4>
<p>用于初始化权重矩阵。</p>
<p>待解决：如何查看初始化的矩阵的内容</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">W = np.array([[<br>    [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>],<br>    [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>],<br>    [<span class="hljs-number">-2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>]<br>]], dtype=np.float32)<br>kernel_initializer = tf.constant_initializer(W)<br><br>print(kernel_initializer)<br><br>-- result --<br>&lt;tensorflow.python.ops.init_ops_v2.Constant object at <span class="hljs-number">0x135f09810</span>&gt;<br></code></pre></td></tr></table></figure>
<h2 id="模型搭建与训练">4. 模型搭建与训练</h2>
<h3 id="线性回归">线性回归</h3>
<h4 id="搭模型">搭模型</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 模版</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyModel</span><span class="hljs-params">(tf.keras.Model)</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span><br>        super().__init__()     <span class="hljs-comment"># Python 2 下使用 super(MyModel, self).__init__()</span><br>        <span class="hljs-comment"># 此处添加初始化代码（包含 call 方法中会用到的层），例如</span><br>        <span class="hljs-comment"># layer1 = tf.keras.layers.BuiltInLayer(...)</span><br>        <span class="hljs-comment"># layer2 = MyCustomLayer(...)</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">call</span><span class="hljs-params">(self, input)</span>:</span><br>        <span class="hljs-comment"># 此处添加模型调用的代码（处理输入并返回输出），例如</span><br>        <span class="hljs-comment"># x = layer1(input)</span><br>        <span class="hljs-comment"># output = layer2(x)</span><br>        <span class="hljs-keyword">return</span> output<br><br><span class="hljs-comment"># 线性模型</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Linear</span><span class="hljs-params">(tf.keras.Model)</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span><br>        super().__init__() <span class="hljs-comment"># Python 3 直接 super(). 就可以了</span><br>        <span class="hljs-comment"># 全连接层 训练的参数为矩阵A和b : y = AX+b</span><br>        self.dense = tf.keras.layers.Dense(<br>            units=<span class="hljs-number">1</span>, <span class="hljs-comment"># 输出的最后一维 feature的层数</span><br>            activation=<span class="hljs-literal">None</span>,<br>	          <span class="hljs-comment"># 设置 Keras 各层权重随机初始值</span><br>            kernel_initializer=tf.zeros_initializer(),<br>            bias_initializer=tf.zeros_initializer()<br>        )<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">call</span><span class="hljs-params">(self, input)</span>:</span><br>        output = self.dense(input)<br>        <span class="hljs-keyword">return</span> output<br></code></pre></td></tr></table></figure>
<h4 id="训练模型">训练模型</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 手动预处理</span><br>X_raw = np.array([<span class="hljs-number">2013</span>, <span class="hljs-number">2014</span>, <span class="hljs-number">2015</span>, <span class="hljs-number">2016</span>, <span class="hljs-number">2017</span>], dtype=np.float32)<br>y_raw = np.array([<span class="hljs-number">12000</span>, <span class="hljs-number">14000</span>, <span class="hljs-number">15000</span>, <span class="hljs-number">16500</span>, <span class="hljs-number">17500</span>], dtype=np.float32)<br><br>X = (X_raw - X_raw.min()) / (X_raw.max() - X_raw.min())<br>y = (y_raw - y_raw.min()) / (y_raw.max() - y_raw.min())<br><br><br><span class="hljs-comment"># 训练</span><br>num_epoch = <span class="hljs-number">10000</span><br>model = Linear()<br>optimizer = tf.keras.optimizers.SGD(learning_rate=<span class="hljs-number">0.01</span>)<br>X = tf.constant([X])  <span class="hljs-comment"># X 是向量, [X] 是矩阵,可以转为张量</span><br>y = tf.constant([y])<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(num_epoch):<br>    <span class="hljs-keyword">with</span> tf.GradientTape() <span class="hljs-keyword">as</span> tape: <span class="hljs-comment"># 开始记录梯度</span><br>        y_pred = model(X)<br>        loss = tf.reduce_mean(tf.square(y_pred - y)) <br>        <span class="hljs-comment"># 均方误差 reduce_mean 对所有tensor所有元素求平均</span><br><br>    grads = tape.gradient(loss, model.variables) <span class="hljs-comment"># 对损失函数的每一个变量求偏导</span><br>    optimizer.apply_gradients(grads_and_vars=zip(grads, model.variables))<br>    <span class="hljs-comment">#  apply_gradient 根据得到的梯度更新参数 传入一个list : [(grad_1,var_1),</span><br>    <span class="hljs-comment"># (grad_2,var_2),...,(grad_n,var_n)]</span><br>print(y_pred)<br></code></pre></td></tr></table></figure>
<h4 id="评估模型">评估模型</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">sparse_categorical_accuracy = tf.keras.metrics.SparseCategoricalAccuracy()<br>num_batches = int(data_loader.num_test_data // batch_size)<br><span class="hljs-keyword">for</span> batch_index <span class="hljs-keyword">in</span> range(num_batches):<br>    start_index, end_index = batch_index * \<br>        batch_size, (batch_index + <span class="hljs-number">1</span>) * batch_size<br>    y_pred = model.predict(data_loader.test_data[start_index: end_index])<br>    sparse_categorical_accuracy.update_state(<br>        y_true=data_loader.test_label[start_index: end_index], y_pred=y_pred)<br>print(<span class="hljs-string">"test accuracy: %f"</span> % sparse_categorical_accuracy.result())<br></code></pre></td></tr></table></figure>
<h3 id="卷积神经网络">卷积神经网络</h3>
<p><code>tfwiki</code> 讲的特别好。理解卷积核<span class="math inline">\((filter)\)</span>减少参数的作用，通过滑动（卷积）扫描整个图像，过程中的权重参数是同一个核的，就是所谓的共享权重。</p>
<p>有关卷积的动态示例可以到<a href="https://github.com/vdumoulin/conv_arithmetic" target="_blank" rel="noopener">这里</a>。有时间学一下他的<code>tex</code>代码。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CNN</span><span class="hljs-params">(tf.keras.Model)</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span><br>        super().__init__()<br>        self.conv1 = tf.keras.layers.Conv2D(<br>            filters=<span class="hljs-number">32</span>,             <span class="hljs-comment"># 卷积层神经元（卷积核）数目 </span><br>            kernel_size=[<span class="hljs-number">5</span>, <span class="hljs-number">5</span>],     <span class="hljs-comment"># 感受野大小</span><br>            padding=<span class="hljs-string">'same'</span>,         <span class="hljs-comment"># padding策略（vaild 或 same）</span><br>            activation=tf.nn.relu   <span class="hljs-comment"># 激活函数</span><br>        )<br>        self.pool1 = tf.keras.layers.MaxPool2D(pool_size=[<span class="hljs-number">2</span>, <span class="hljs-number">2</span>], strides=<span class="hljs-number">2</span>)<br>        <span class="hljs-comment"># 横向和纵向都是每两个取一个最大的，因此大小变化像这样：28,28 -&gt; 14,14</span><br>        self.conv2 = tf.keras.layers.Conv2D(<br>            filters=<span class="hljs-number">64</span>,<br>            kernel_size=[<span class="hljs-number">5</span>, <span class="hljs-number">5</span>],<br>            padding=<span class="hljs-string">'same'</span>, <span class="hljs-comment"># 'same' 策略保证卷积前后大小相同</span><br>            activation=tf.nn.relu<br>        )<br>        self.pool2 = tf.keras.layers.MaxPool2D(pool_size=[<span class="hljs-number">2</span>, <span class="hljs-number">2</span>], strides=<span class="hljs-number">2</span>)<br>        self.flatten = tf.keras.layers.Reshape(target_shape=(<span class="hljs-number">7</span> * <span class="hljs-number">7</span> * <span class="hljs-number">64</span>,))<br>        self.dense1 = tf.keras.layers.Dense(units=<span class="hljs-number">1024</span>, activation=tf.nn.relu)<br>        self.dense2 = tf.keras.layers.Dense(units=<span class="hljs-number">10</span>)<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">call</span><span class="hljs-params">(self, inputs)</span>:</span><br>        x = self.conv1(inputs)                  <span class="hljs-comment"># [batch_size, 28, 28, 32]</span><br>        x = self.pool1(x)                       <span class="hljs-comment"># [batch_size, 14, 14, 32]</span><br>        x = self.conv2(x)                       <span class="hljs-comment"># [batch_size, 14, 14, 64]</span><br>        x = self.pool2(x)                       <span class="hljs-comment"># [batch_size, 7, 7, 64]</span><br>        x = self.flatten(x)                     <span class="hljs-comment"># [batch_size, 7 * 7 * 64]</span><br>        x = self.dense1(x)                      <span class="hljs-comment"># [batch_size, 1024]</span><br>        x = self.dense2(x)                      <span class="hljs-comment"># [batch_size, 10]</span><br>        output = tf.nn.softmax(x)<br>        <span class="hljs-keyword">return</span> output<br></code></pre></td></tr></table></figure>
<p>待看：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">kernel_initializer=tf.constant_initializer(W),<br>bias_initializer=tf.constant_initializer(b)<br>      <br><br>dataset = dataset.map(<span class="hljs-keyword">lambda</span> img, label: (tf.image.resize(img, [<span class="hljs-number">224</span>, <span class="hljs-number">224</span>]) / <span class="hljs-number">255.0</span>, label)).shuffle(<span class="hljs-number">1024</span>).batch(<span class="hljs-number">32</span>)<br>model = tf.keras.applications.MobileNetV2(weights=<span class="hljs-literal">None</span>, classes=<span class="hljs-number">5</span>)<br></code></pre></td></tr></table></figure>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/TensorFlow/" rel="tag">TensorFlow</a></li></ul>


    </footer>

  </div>

  

  

  
  
  

</article>
    
    <article id="post-Projects/Laser-holography" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/03/Projects/Laser-holography/"
    >Laser Holography</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/05/03/Projects/Laser-holography/" class="article-date">
  <time datetime="2020-05-02T19:00:58.000Z" itemprop="datePublished">2020-05-03</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Projects/">Projects</a> / <a class="article-category-link" href="/categories/Projects/Optics/">Optics</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <p>This is the my final report for Semiconductor Laser Holography experiement in physics experiment course.</p>
<p>I did the experiment with my dear roommates Yiheng Mao and Weiming Zhou, under the guidance of teacher Xing Chen.</p>


	<div class="row">
    <embed src="/pdf_files/半导体激光全息实验总结.pdf" width="100%" height="550" type="application/pdf">
	</div>




      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      

    </footer>

  </div>

  

  

  
  
  

</article>
    
    <article id="post-Projects/Optomechanical-Structural-Design" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/03/Projects/Optomechanical-Structural-Design/"
    >Optomechanical Structural Design</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/05/03/Projects/Optomechanical-Structural-Design/" class="article-date">
  <time datetime="2020-05-02T18:25:25.000Z" itemprop="datePublished">2020-05-03</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Projects/">Projects</a> / <a class="article-category-link" href="/categories/Projects/Optics/">Optics</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <p>This is the major assignment for our optomechanical structural design course. Thanks a lot for Xiaowen Wang, Longxun Cao and Hanmo Mei. That week we all had little time for sleep and we finally made a really big guy! Although that period was very hard , I really cherish it.</p>
<p>I will make it more detailed when I have time.</p>
<h3 id="工程图汇总">工程图汇总</h3>


	<div class="row">
    <embed src="/pdf_files/钢铁侠手臂台灯-工程图汇总.pdf" width="100%" height="550" type="application/pdf">
	</div>



<h3 id="设计文件">设计文件</h3>


	<div class="row">
    <embed src="/pdf_files/钢铁侠手臂台灯项目设计文件.pdf" width="100%" height="550" type="application/pdf">
	</div>



<h3 id="展示ppt">展示PPT</h3>
<p>waiting~</p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      

    </footer>

  </div>

  

  

  
  
  

</article>
    
    <article id="post-Notes-byhand/NA-notes" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/03/Notes-byhand/NA-notes/"
    >NA-Notes</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/05/03/Notes-byhand/NA-notes/" class="article-date">
  <time datetime="2020-05-02T18:12:18.000Z" itemprop="datePublished">2020-05-03</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/notes/">notes</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <p>This is my class notes for Numerical Analysis. Hopefully one day I can organize it into an electronic version.</p>


	<div class="row">
    <embed src="/pdf_files/数值分析方法.pdf" width="100%" height="550" type="application/pdf">
	</div>




      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      

    </footer>

  </div>

  

  

  
  
  

</article>
    
    <article id="post-Notes-byhand/pde-notes" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/03/Notes-byhand/pde-notes/"
    >PDE-Notes</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/05/03/Notes-byhand/pde-notes/" class="article-date">
  <time datetime="2020-05-02T18:04:58.000Z" itemprop="datePublished">2020-05-03</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/notes/">notes</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <p>This is my class notes for PDE (partial differential equations ) course.</p>
<p>Due to the capacity limit, I cannot upload it (200+MB), but I found an alternative way. I uploaded it to MEGA and you can get access to the note by the following url.</p>
<p><a href="https://mega.nz/file/cdoVkDiJ#qT23xZ6WbVRNxoJ8iNsJOmXdWt_pfr5fzG3UyVoem8Q" target="_blank" rel="noopener">PDE-Note-by-Peter :)</a></p>
<p>By the way, the file seems too large so you need to wait for a moment or just download it, please execuse me.</p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      

    </footer>

  </div>

  

  

  
  
  

</article>
    
    <article id="post-Projects/Optical-combination-experiment" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/03/Projects/Optical-combination-experiment/"
    >Optical Combination Experiment</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/05/03/Projects/Optical-combination-experiment/" class="article-date">
  <time datetime="2020-05-02T18:00:59.000Z" itemprop="datePublished">2020-05-03</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Projects/">Projects</a> / <a class="article-category-link" href="/categories/Projects/Optics/">Optics</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <p>This is the optical combination experiment report I’ve done in the Aplied Optical Experiment course.</p>


	<div class="row">
    <embed src="/pdf_files/光学组合实验实验报告.pdf" width="100%" height="550" type="application/pdf">
	</div>




      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      

    </footer>

  </div>

  

  

  
  
  

</article>
    
    <article id="post-Projects/iPhone-focal-length-measurement" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/03/Projects/iPhone-focal-length-measurement/"
    >iPhone Focal Length Measurement</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/05/03/Projects/iPhone-focal-length-measurement/" class="article-date">
  <time datetime="2020-05-02T17:55:17.000Z" itemprop="datePublished">2020-05-03</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Projects/">Projects</a> / <a class="article-category-link" href="/categories/Projects/Optics/">Optics</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <p>This is the mobile phone focal length measurement experiment report I’ve done in the Aplied Optical Experiment course.</p>


	<div class="row">
    <embed src="/pdf_files/手机焦距测量实验报告.pdf" width="100%" height="550" type="application/pdf">
	</div>




      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      

    </footer>

  </div>

  

  

  
  
  

</article>
    
    <article id="post-Projects/2020-ICM" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/02/Projects/2020-ICM/"
    >2020-ICM</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/05/02/Projects/2020-ICM/" class="article-date">
  <time datetime="2020-05-02T15:22:18.365Z" itemprop="datePublished">2020-05-02</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Projects/">Projects</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <p>This work is mainly about the football game team strategy based on big data and is our final paper for the D problem of 2020 Interdisciplinary Contest in Modelling (ICM 2020), contributed collaboratively and equally by R.C. Luo, Y.Z. Zhang and me.</p>
<p>Thanks cordially to the combined efforts of whole group, we fortunately won an M-prize. Due to privacy and copyright, the control number in our paper is erased.</p>


	<div class="row">
    <embed src="/pdf_files/2020_ICM.pdf" width="100%" height="550" type="application/pdf">
	</div>




      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      

    </footer>

  </div>

  

  

  
  
  

</article>
    
    <article id="post-Computer-Sciences/Matlab学习" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/03/Computer-Sciences/Matlab%E5%AD%A6%E4%B9%A0/"
    >Matlab学习</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/03/03/Computer-Sciences/Matlab%E5%AD%A6%E4%B9%A0/" class="article-date">
  <time datetime="2020-03-03T08:40:36.000Z" itemprop="datePublished">2020-03-03</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Computer-Science/">Computer Science</a> / <a class="article-category-link" href="/categories/Computer-Science/Language-Learning/">Language Learning</a> / <a class="article-category-link" href="/categories/Computer-Science/Language-Learning/Matlab/">Matlab</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h1 id="matlab-学习笔记">Matlab 学习笔记</h1>
<h2 id="有关信号与系统">有关信号与系统</h2>
<h3 id="连续系统构建">连续系统构建</h3>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs matlab">tf(b,a);  <span class="hljs-comment">%传递函数模型</span><br>s = tf(<span class="hljs-string">'s'</span>); sys = b(s)/a(s) <span class="hljs-comment">%（具体的为多项式形式）</span><br><span class="hljs-comment">% ss 状态空间模型 （了解不多）</span><br><span class="hljs-comment">% zpk 零点-极点-增益模型 （了解不多）</span><br></code></pre></td></tr></table></figure>
<h3 id="连续系统性质研究">连续系统性质研究</h3>
<p>在用上面的方法构建好系统sys后，才可以进行下面的操作。</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><span class="hljs-comment">% 零极点图</span><br>p = pole(sys); <span class="hljs-comment">%求出零点</span><br>z = zero(sys); <span class="hljs-comment">%求出极点</span><br>pzmap(sys); <span class="hljs-comment">%画零极点图 可以设置axis使之更好看</span><br><br><span class="hljs-comment">% 响应</span><br>lsim(sys,u,t,x0) <span class="hljs-comment">%全响应</span><br>impulse(sys); <span class="hljs-comment">%单位冲激响应</span><br>step(sys); <span class="hljs-comment">%单位阶跃响应</span><br></code></pre></td></tr></table></figure>
<h2 id="有关符号表达式">有关符号表达式</h2>
<h3 id="符号声明">符号声明</h3>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs matlab">syms x y; <span class="hljs-comment">%声明变量</span><br>syms f(t) g(x,y); <span class="hljs-comment">%声明函数, 里面的变量可以作为符号直接使用</span><br>syms A [m,n]; <span class="hljs-comment">%声明向量或矩阵 m*n维</span><br></code></pre></td></tr></table></figure>
<h3 id="符号运算">符号运算</h3>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs matlab">simplify(expr); <span class="hljs-comment">%化简符号表达式</span><br>root(p,x); <span class="hljs-comment">%得到符号多项式p关于x的根</span><br>solve(equ,var); <span class="hljs-comment">%计算方程的解</span><br>equs=[equ1 equ2]; vars=[var1 var2];<br>solve(equs,vars); <span class="hljs-comment">%计算方程组equs关于变量vars的解</span><br>diff(f,x,n); <span class="hljs-comment">%求符号函数f关于x的n阶导数</span><br>dsolve(equ,cond); <span class="hljs-comment">%求解带diff的常微分方程 cond为初始条件</span><br>dsolve(equs); <span class="hljs-comment">%求解常微分方程组 得到一组解S 用S.var 查看关于var的的解</span><br>laplace(f); <span class="hljs-comment">%求关于f的拉普拉斯变换 （积分下限为0）</span><br>ilaplace(F); <span class="hljs-comment">%求F的拉普拉斯逆变换</span><br></code></pre></td></tr></table></figure>
<h3 id="符号变现赋值等">符号变现（赋值等）</h3>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs matlab">g = matlabFunction(f); <span class="hljs-comment">%生成一个虚拟函数句柄 将符号表达式转化为可以用句柄调用求具体值等函数</span><br><br>subs(s,old,new); <span class="hljs-comment">%返回s中old全部用new代替的新的表达式, 可用于符号替换（如自变量替换）和赋值</span><br></code></pre></td></tr></table></figure>
<h2 id="其他">其他</h2>
<ul>
<li><p>函数必须以end结尾。将其保存为.m 文件，即可在其他程 序中以文件名（注意不是函数名，文件名和函数名可以不同）调用该函数。</p></li>
<li><p>关系运算</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs matlab">a~=b<span class="hljs-comment">%不等于</span><br>a&gt;=b<span class="hljs-comment">%大于等于</span><br>a&lt;=b<span class="hljs-comment">%小于等于</span><br></code></pre></td></tr></table></figure></li>
<li><p>复数</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs matlab">a=<span class="hljs-number">1</span>+<span class="hljs-number">2</span><span class="hljs-built_in">i</span><br>z=<span class="hljs-built_in">real</span>(a)<span class="hljs-comment">%实部</span><br>z=<span class="hljs-built_in">imag</span>(a)<span class="hljs-comment">%虚部</span><br>z=<span class="hljs-built_in">angle</span>(a)<span class="hljs-comment">%辐角</span><br>z=<span class="hljs-built_in">abs</span>(a)<span class="hljs-comment">%模</span><br>z=<span class="hljs-built_in">conj</span>(a)<span class="hljs-comment">%共轭</span><br></code></pre></td></tr></table></figure></li>
<li><p>向量操作</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs matlab">a=<span class="hljs-built_in">rand</span>(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>)<br>b=<span class="hljs-built_in">rand</span>(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>)<br>c=<span class="hljs-built_in">dot</span>(a,b)<span class="hljs-comment">%内积</span><br>d=<span class="hljs-built_in">cross</span>(a,b)<span class="hljs-comment">%叉乘</span><br>l=<span class="hljs-built_in">length</span>(a)<span class="hljs-comment">%向量长度</span><br>median(a)<span class="hljs-comment">%中位数</span><br>std(a)<span class="hljs-comment">%标准差</span><br>s=<span class="hljs-built_in">sort</span>(a)<span class="hljs-comment">%排序</span><br><span class="hljs-comment">%还有 min max 等</span><br></code></pre></td></tr></table></figure></li>
<li><p>矩阵操作</p></li>
</ul>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs matlab">a=<span class="hljs-built_in">rand</span>(<span class="hljs-number">5</span>,<span class="hljs-number">3</span>)<br>b=<span class="hljs-built_in">rand</span>(<span class="hljs-number">5</span>,<span class="hljs-number">3</span>)<br>b=b'<span class="hljs-comment">%转置</span><br>c=a*b<span class="hljs-comment">%矩阵乘法</span><br>d=a.*b<span class="hljs-comment">%逐元素相乘</span><br>m=b^<span class="hljs-number">3</span><span class="hljs-comment">%幂</span><br>m=b.^<span class="hljs-number">3</span><span class="hljs-comment">%点幂</span><br><span class="hljs-built_in">size</span>(b)<span class="hljs-comment">%矩阵大小</span><br>b=<span class="hljs-built_in">reshape</span>(<span class="hljs-number">1</span>,<span class="hljs-number">15</span>)<br>b=<span class="hljs-built_in">flipud</span>(b)<span class="hljs-comment">%上下翻转 up and down</span><br>b=<span class="hljs-built_in">fliplr</span>(b)<span class="hljs-comment">%左右翻转 left and right</span><br>e=<span class="hljs-built_in">diag</span>(b)<span class="hljs-comment">%取出b的对角元素</span><br><br>left_division=a/b<span class="hljs-comment">% b*inv(a)</span><br>right_division=a\b<span class="hljs-comment">% inv(a)*b</span><br><span class="hljs-comment">%X=A\B是方程A*X=B的解，X=A\B是方程X*A=B的解 </span><br><span class="hljs-comment">%记忆：朝向哪 逆在哪</span><br></code></pre></td></tr></table></figure>
<ul>
<li><p>绘图</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs matlab">x=<span class="hljs-built_in">linspace</span>(<span class="hljs-number">1</span>,<span class="hljs-number">10</span>,<span class="hljs-number">100</span>)<br>y1=<span class="hljs-built_in">sin</span>(x)<br>y2=<span class="hljs-built_in">cos</span>(x)<br>y3=<span class="hljs-built_in">tan</span>(x)<br><span class="hljs-built_in">plot</span>(x,y1,<span class="hljs-string">'blue'</span>,x,y2,<span class="hljs-string">'LineWidth'</span>,<span class="hljs-number">2</span>,<span class="hljs-string">'color'</span>,<span class="hljs-string">'red'</span>)<br><span class="hljs-comment">%要在同一图中画出多条曲线，只需将坐标依次放入plot函数即可</span><br>axis([<span class="hljs-number">0</span> <span class="hljs-number">4</span>*<span class="hljs-built_in">pi</span> <span class="hljs-number">-1.2</span> <span class="hljs-number">1.2</span>])<span class="hljs-comment">%设置坐标轴范围</span><br>xlim([<span class="hljs-number">1</span> <span class="hljs-number">2</span>])<span class="hljs-comment">%单独控制</span><br>xlabel(<span class="hljs-string">'x'</span>); ylabel(<span class="hljs-string">'y'</span>);<br><span class="hljs-built_in">legend</span>(<span class="hljs-string">'sin(x)'</span>,<span class="hljs-string">'cos(x)'</span>);<br>title(<span class="hljs-string">'Sine and Cosine Functions'</span>);<br><span class="hljs-comment">%title里可以使用latex语法</span><br><span class="hljs-comment">%如 ：title('$y_1=\sin(4\pi t+\pi /3)$','interpreter','latex')</span><br><span class="hljs-comment">% 注明解释器为latex即可</span><br><br><span class="hljs-comment">%绘制子图</span><br>subplot(<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>); <span class="hljs-built_in">plot</span>(x,y1);<br>subplot(<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>); <span class="hljs-built_in">plot</span>(x,y2);<br>subplot(<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>); <span class="hljs-built_in">plot</span>(x,y3);<br></code></pre></td></tr></table></figure></li>
<li><p>信号处理</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><span class="hljs-comment">%噪声</span><br>snr=<span class="hljs-number">10</span>; <span class="hljs-comment">%Signal‐to‐noise ratio in dB.</span><br>yn=awgn(y,snr,<span class="hljs-string">'measured'</span>); <span class="hljs-comment">% Add white Gaussian noise. 白噪声</span><br><br><span class="hljs-comment">%函数</span><br>k1=<span class="hljs-number">-3</span>; k2=<span class="hljs-number">3</span>; k=k1:k2; n=<span class="hljs-number">0</span>;<br>step=stepfun(t,t0)<span class="hljs-comment">%t是向量形式的变量,t0表示延迟 阶跃函数</span><br>delta=+(k==n) <span class="hljs-comment">% 冲激函数</span><br>stem(k,delta,<span class="hljs-string">'filled'</span>)<span class="hljs-comment">% 离散函数绘制 stem为绘制杆状图</span><br><br><span class="hljs-comment">%rectpuls和tripuls函数产生指定宽度和高度的矩形和三角脉冲。</span><br></code></pre></td></tr></table></figure></li>
<li><p>其他技巧</p>
<ul>
<li>nargin, nargout 的使用</li>
</ul></li>
</ul>
<h2 id="关于频率">关于频率</h2>
<p>采样频率 <span class="math inline">\(f_s\)</span>：每秒取 <span class="math inline">\(f_s\)</span> 个点，计算中应该取和物理采样硬件（如示波器）的采样频率一致</p>
<p>频率域分析中，若采样频率是 <span class="math inline">\(f_s\)</span>, 那么分析的范围是 <span class="math inline">\([0,f_s)\)</span>, 这是因为更高频率的波我们采样不到了。</p>
<p>又由于 <span class="math inline">\([0,f_s/2),[f_s/2,f_s)\)</span> 是对称的，事实上有用的信息或者说我们需要分析的范围是 <span class="math inline">\([0,f_s/2]\)</span> 。</p>
<p>在用 Matlab 进行频率域分析时，首先应该设置采样频率。根据物理硬件可以确定采样频率，如果是离散信号，那么采样频率就是 <span class="math inline">\(1\)</span> 。</p>
<p>第二步应该确定采样的点数 <span class="math inline">\(N\)</span> 或者采样的持续时间 <span class="math inline">\(T\)</span>, 知道一个我们就可以确定另一个：<span class="math inline">\(N\implies T=N/f_s,\quad T\implies N=T\cdot f_s\)</span></p>
<p>在使用 Matlab 的 fft 函数时，有几个需要注意的地方：</p>
<ul>
<li><p>真实信号的振幅应该是 <span class="math inline">\(A\cdot2/N\)</span> ，这个我不是很明白，查到的是这样说的，<span class="math inline">\(A\)</span> 是 fft 变换后的振幅</p></li>
<li><p>如果采样频率是 <span class="math inline">\(f_s\)</span>, 那么 fft 时要乘一下 <span class="math inline">\(dt=1/f_s\)</span> (每秒 <span class="math inline">\(f_s\)</span> 个点，那么一个点就是 <span class="math inline">\(1/f_s\)</span> 秒) ，这是由于 Matlab 的 fft 是离散傅立叶变换，相当于 <span class="math inline">\(dt=1\)</span> ，需要补乘 <span class="math inline">\(dt\)</span></p></li>
<li><p>频率域对应的频谱范围是 <span class="math inline">\(0\sim f_s\)</span>, 有用的信息是在 <span class="math inline">\(0~f_s/2\)</span>, Matlab 代码实现是</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><span class="hljs-number">0</span>:(N<span class="hljs-number">-1</span>)/N*fs<br></code></pre></td></tr></table></figure>
<p>可以用 fftshift 将 <span class="math inline">\([0,f_s)\)</span> 移为 <span class="math inline">\((-f_s/2,f_s/2]\)</span>, 然后取 <span class="math inline">\([o,f_s/2]\)</span> 的有用信息进行分析</p></li>
<li><p>反变换 ifft 时要乘回来之前多乘的 <span class="math inline">\(1/f_s\)</span>, 即乘 <span class="math inline">\(f_s\)</span></p></li>
</ul>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      

    </footer>

  </div>

  

  

  
  
  

</article>
    
  </article>
  

  
  <nav class="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2020
        <i class="ri-heart-fill heart_icon"></i> Longqian Huang
      </li>
    </ul>
    <ul>
      <li>
        
        
        
        Powered by <a href="https://hexo.io" target="_blank">Hexo</a>
        <span class="division">|</span>
        Theme - <a href="https://github.com/Shen-Yu/hexo-theme-ayer" target="_blank">Ayer</a>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>Visitors:<span id="busuanzi_value_site_uv"></span></s>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>Views:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>
      <div class="float_btns">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

      </div>
    </main>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/cat.png" alt="Peter&#39;s Blog"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/Projects">Projects</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/Notes">Notes</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="http://c01dkit.com" target="_blank" rel="noopener">友链</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <script>
      if (window.matchMedia("(max-width: 768px)").matches) {
        document.querySelector('.content').classList.remove('on');
        document.querySelector('.sidebar').classList.remove('on');
      }
    </script>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/img/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/img/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/lazyload.min.js"></script>

<!-- Subtitle -->

<script>
  try {
    var typed = new Typed("#subtitle", {
      strings: ['Mathematics, Computer Science, Physics . . .', '', ''],
      startDelay: 0,
      typeSpeed: 250,
      loop: true,
      backSpeed: false,
      showCursor: true
    });
  } catch (err) {
    console.log(err)
  }
</script>

<!-- Tocbot -->

<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>

<!-- MathJax -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
      tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
  });

  MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for(i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.6/unpacked/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
  var ayerConfig = {
    mathjax: true
  }
</script>

<!-- Katex -->

<!-- busuanzi  -->


<script src="/js/busuanzi-2.3.pure.min.js"></script>


<!-- ClickLove -->

<!-- CodeCopy -->


<link rel="stylesheet" href="/css/clipboard.css">

<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>



    
  </div>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            displayMath: [ ['$','$'], ["\\[","\\]"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js"></script>


<!-- <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['

</html>,'

</html>], ["\\(","\\)"] ],
      displayMath: [ ['$','$'], ["\\[","\\]"] ],
      processEscapes: true
    },
    "HTML-CSS": { availableFonts: ["TeX"] }
  });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js"></script> --><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>

</html>